# マシンリーダビリティ

WCAGのレベルA基準において、マシンリーダビリティ（機械可読）は多くのガイドラインに紐づいています。
PDFや画像ファイルは、視覚情報のある人間にとっては認識可能ですが、コンピュータにとっては読み取りづらい形式になります。コンピュータやプログラムが読み取れないデータ形式である場合、殆どの支援技術が機能しなくなるので、それらを用いているユーザーはサイトを利用することが出来なくなります。

WCAGのレベルA基準は以下のようなものになります。
・**視覚に頼らずとも情報が得られるテキストを用意する**
・**そのテキストを意味に沿った順番に並べ、内容に応じて適切なHTMLとしてマークアップする**
・**どこが入力エラーになっているかをテキストで伝える**
・**すべてのインタラクティブ要素をキーボードで操作可能にする**

アクセシビリティの根幹はマシンリーダビリティです。
テキストで提供されているコンテンツは、ブラウザの機能やプラグイン、翻訳サービスなどによって、コンテンツを翻訳して読めるようになりますが、適切にマークアップされていない場合はいずれも利用できません。ブラウザや支援技術が解釈できるようコンテンツを機械可読にすることは必須です。
***

## マシンリーダブルの基礎

以下のようなアイコン画像のみのボタンがあります。
![アイコン](/images/02/readable_icon.png)
視覚情報がある場合、プラスは何らかの加算を意味し、ゴミ箱は破棄を意味すると連想できます。また、角丸の矩形からはボタンである事が認知できます。
以下は読み上げられる実装の例です。セマンティクスが実装されています。

```html
<button class="Button">
  <img src="/image/icon/add.png" alt="追加" />
</button>
```

ボタンにはbutton要素が用いられ、button要素の中にimg要素があります。img要素にはalt属性によって代替テキストが付与されているので、スクリーンリーダーはこれらの構成から「追加、ボタン」と読み取ることが出来ます。
以下のような実装はスクリーンリーダーで読み上げられません。

```html
<div class="Button">
  <svg class="Icon-add" viewBox="00512512"><pathd="M505..."/></svg>
</div>
```

div要素は特別な意味を持たないのでセマンティクスが読み取れず、スクリーンリーダーは「ボタン」であることを認識できません。また、SVGにはテキスト情報がないので、alt属性のように読み取ることができません。
class属性にButtonやIcon-addを指定していますが、class属性の値はセマンティクスとして機能しません。

これはチェックボックスなどの「**状態**」を保持する要素においても同様です。
チェックボックスは他の要素を用いて独自のスタイルとイベントを付与し、ゼロから生成する事も可能です。HTML 標準のチェックボックスのデザインを変更したい場合に、ゼロから構築する方が効率的であると考えることがあるかもしれません。

```html
<span class="checkboxwrapper" onclick="toggleCheck();">
  <span class="checkboxchecked"></span>
  <span>同意する</span>
</span>
```

しかし、このような場合もセマンティクスが含まれないため、スクリーンリーダーで読み上げた際にチェックボックスであるということや、チェック状態であるかなどの情報が読み取れません。
HTML 標準のチェックボックスを使用した場合は以下のようになります。

```html
<label>
  <inputtype="checkbox"checked="checked"/>
  同意する
</label>
```

type="checkbox"によってチェックボックスの役割を持ち、label要素によって「同意する」という名前を持ちます。チェック状態はchecked属性に真偽値が保持されるので、これらは「同意する、チェックされている、チェックボックス」というように読み上げ可能となります。

HTML 標準のデザインを変更する為にゼロから構築するコストは、セマンティクスを考慮した場合に必ずしも効率的とは限りません。スタイルの拡張の為だけに、イベントや状態、セマンティクスを実装するのは非常にコストのかかる対応になるでしょう。
